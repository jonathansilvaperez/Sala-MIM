const sky=document.getElementById('sky');if(sky){const ctx=sky.getContext('2d');let stars=[];function resize(){const dpr=window.devicePixelRatio||1;const rect=sky.getBoundingClientRect();sky.width=Math.floor(rect.width*dpr);sky.height=Math.floor(420*dpr);ctx.setTransform(dpr,0,0,dpr,0,0);draw();}function genStars(n=90){stars=Array.from({length:n},()=>({x:Math.random()*sky.clientWidth,y:Math.random()*420,r:Math.random()*1.8+0.4,b:Math.random()*0.6+0.4}));}function draw(){const w=sky.clientWidth,h=420;ctx.clearRect(0,0,w,h);const grad=ctx.createLinearGradient(0,0,0,h);grad.addColorStop(0,'#050814');grad.addColorStop(1,'#0b1020');ctx.fillStyle=grad;ctx.fillRect(0,0,w,h);for(const s of stars){ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fillStyle=`rgba(255,255,255,${s.b})`;ctx.fill();}}sky.addEventListener('click',()=>alert('Estrella seleccionada (demo)'));window.addEventListener('resize',resize);genStars();resize();}
const g={mercurio:.38,venus:.91,luna:.165,marte:.38,jupiter:2.34,saturno:1.06,urano:.92,neptuno:1.19};
const calcBtn=document.getElementById('calc');if(calcBtn){calcBtn.addEventListener('click',()=>{const m=parseFloat(document.getElementById('pesoTierra').value||'0');const p=document.getElementById('planeta').value;if(m<=0)return;const res=(m*g[p]).toFixed(1);document.getElementById('resultado').textContent=`PesarÃ­as aproximadamente ${res} kg en ${p}.`;});}
const qf=document.getElementById('quizForm');if(qf){const answers={q1:'a',q2:'b',q3:'a',q4:'b',q5:'b'};qf.addEventListener('submit',(e)=>{e.preventDefault();let score=0;const fd=new FormData(qf);for(const k in answers){if(fd.get(k)===answers[k])score++;}const pct=Math.round(score/Object.keys(answers).length*100);document.getElementById('score').textContent=`Tu puntaje: ${score}/5 (${pct}%)`;});}